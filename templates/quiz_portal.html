<!DOCTYPE html>
<html lang="{{ locale }}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ _("Minecraft Standard Translation Quiz") }}</title>
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='apple-touch-icon.png') }}">
    <link rel="stylesheet"
        href="https://fonts.font.im/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,1,0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dark-mode.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/quiz_portal.css') }}" type="text/css">
    <style>
        /* 初始隐藏页面内容，避免闪烁 */
        body {
            display: none;
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="{{ url_for('static', filename='js/dark-mode.js') }}"></script>
</head>

<body>
    <div class="mode-toggle">
        <button id="mode-switch">
            <span class="material-symbols-outlined" id="mode-icon">dark_mode</span>
        </button>
    </div>
    <div class="container-1">
        <div class="title" lang="{{ locale }}">{{ _("Minecraft Standard Translation Quiz") }}</div>
        <button class="btn-1" id="randomQuizButton">
            {{ _("Random questions (refresh to reselect)") }}
        </button>
        <div class="select-container">
            <label for="query-lang">{{ _("Language: ") }}</label>
            <select name="query-lang" id="query-lang">
                <option value="zh_cn" lang="zh-Hans-CN">简体中文 (中国大陆)</option>
                <option value="zh_hk" lang="zh-Hant-HK">繁體中文 (香港特別行政區)</option>
                <option value="zh_tw" lang="zh-Hant-TW">繁體中文 (台灣)</option>
                <option value="lzh" lang="lzh">文言 (華夏)</option>
            </select>
        </div>
        <div class="input-container">
            <input type="text" id="inputText" placeholder="{{ placeholder }}" autocomplete="off">
            <button class="btn-2" id="enterButton">{{ _("Enter") }}</button>
        </div>
        <div class="links">
            <a id="query-link" href="../"><span class="material-symbols-outlined b">manage_search</span>
                {{ _("Query Page") }}
            </a> 
            <a id="table-link" href="../table"><span class="material-symbols-outlined b">table</span>
                {{ _("Table Page") }}
            </a> 
            <a class="github-link" href="https://github.com/SkyEye-FAST/minecraft_translation_flask">
                <img id="svg" alt="GitHub" class="github-icon"
                    src="{{ url_for('static', filename='images/github-icon.svg') }}" />
                GitHub
            </a>
        </div>
    </div>

    <script>
        $(document).ready(() => {
            const randomCode = "{{ random_code }}";

            $("#randomQuizButton").click(() => {
                const selectedLang = $("#query-lang").val();
                window.location.href = `quiz/${randomCode}?l=${selectedLang}`;
            });

            $("#enterButton").click(() => {
                const inputContent = $("#inputText").val();
                const selectedLang = $("#query-lang").val();
                window.location.href = `quiz/${inputContent}?l=${selectedLang}`;
            });
        });
    </script>
</body>

</html>